NAME math
LEXER {
    IGNORE " " "\t" "\n"
    VALUE float "[0-9]+\.[0-9]+" "[0-9]+\." "\.[0-9]+"
    VALUE int "[0-9]+"
    evalIn "\("
    evalOut "\)"
    add "\+"
    sub "\-"
    mul "\*"
    div "\/"
}
PARSER {
    Atom {
        [int] -> Int tok=1
        [float] -> Float tok=1
        [evalIn] Arith [evalOut] -> 2
    } UNEXPECTED
    Term {
        Atom ([mul][div]) Atom -> BinOp left=1 op=2 right=3
    } Atom
    Arith {
        Term ([add][sub]) Term -> BinOp left=1 op=2 right=3
    } Term
} Arith